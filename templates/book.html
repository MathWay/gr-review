{% extends "layout_logged.html" %}

{% block body %}
<div class="table-responsive">
<table class="table table-sm d-flex">
  <tr>
    <th scope="row">ISBN</th>
    <td>{{ book.isbn }}</td>
  </tr>
  <tr>
    <th scope="row">Author</th>
    <td>{{ book.author }}</td>
  </tr>
  <tr>
    <th scope="row">Title</th>
    <td>{{ book.title }}</td>
  </tr>
  <tr>
    <th scpoe="row">Year</th>
    <td>{{ book.year }}</td>
  </tr>
</table>
</div>

<!-- Reviews -->
{% if (reviews is defined) %}
  <hr>
  <h2>Reviews</h2>
  {% if reviews %}
    <table class="table table-striped">
      {% for review in reviews %}
        <tr>
          <td><h3>review.user</h3> review.rating</td>
        </tr>
        <tr>
          <td>review.comment</td>
        </tr>
      {% endfor %}
    </table>
    {% else %}
      <p>No reviews for this book. Be the first to comment!</p>
  {% endif %}
{% endif %}

<!-- Post a comment -->
<hr>
<form class="form" action="{{ url_for('comment', book_isbn=book.isbn) }}" method="post">
  <div class="form-group row">
    <div class="col-sm-1">
      <label for="InputRating">Rating</label>
      <input type="number" min="1" max="5" class="form-control" id="InputRating" name="rating" placeholder="1..5">
    </div>
  </div>
  <div class="form-group row">
    <div class="col-sm-4">
      <label for="InputComment">Review</label>
      <input type="text" class="form-control" id="InputComment" name="comment" placeholder="Put review here!">
    </div>
  </div>
  <button type="submit" class="btn btn-primary mb-2 mr-sm-2">Post</button>
</form>
{% endblock %}